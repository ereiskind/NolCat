<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>List of {{ title }}</title>
</head>
<body>
    <h1>List of {{ title }}</h1>

    {% with message = get_flashed_messages() %}
        {% if message %}
            <p>{{ message }}</p>
        {% endif %}
    {% endwith %}

    <table>
        <tr>
            {% for field in fields %}
                <th>{{field}}</th>
            {% endfor %}
        </tr>

        {% for record in records %}
        <tr>
            {% for field_of_value, value in zip(fields, record) %}
            <td>
                {% if field_of_value == edit_link_field %}
                    <a href="{{ url_for('view_lists.edit_list_record', list=value[0], PK=value[1]) }}">Edit</a>
                {% elif field_of_value == view_link_field %}
                    <a href="{{ url_for('view_lists.view_list_record', list=value[0], PK=value[1]) }}">View Details</a>
                {% else %}
                    {{value}}
                {% endif %}
            </td>
            {% endfor %}
        </tr>
        {% endfor %}
    </table>

    <!--ToDo: Create link for adding record-->
</body>
</html>